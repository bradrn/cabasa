<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CA</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Brad Neimann 2017-2018</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>brad.neimann@hotmail.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">CA</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">About comonadic cellular automata</a></li><li><a href="#g:2">Convenient re-exports</a></li><li><a href="#g:3">Types</a></li><li><a href="#g:4">Functions on <code>Universe</code></a><ul><li><a href="#g:5">Other functions which Haddock can't document properly</a></li></ul></li><li><a href="#g:6">Conversion from and to lists</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Main functionality relating to cellular automata.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Axis">Axis</a><ul class="subs"><li>= <a href="#v:X">X</a></li><li>| <a href="#v:Y">Y</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Coord">Coord</a> (x :: <a href="CA.html#t:Axis">Axis</a>) = <a href="#v:Coord">Coord</a> {<ul class="subs"><li><a href="#v:getCoord">getCoord</a> :: Int</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Point">Point</a> = <a href="#v:Point">Point</a> (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>) (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Universe">Universe</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:CARule">CARule</a> g a = <a href="CA.html#t:Universe">Universe</a> a -&gt; Rand g a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Bounds">Bounds</a> = <a href="#v:Bounds">Bounds</a> {<ul class="subs"><li><a href="#v:boundsLeft">boundsLeft</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>)</li><li><a href="#v:boundsRight">boundsRight</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>)</li><li><a href="#v:boundsTop">boundsTop</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</li><li><a href="#v:boundsBottom">boundsBottom</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</li></ul>}</li><li class="src short"><a href="#v:boundsWidth">boundsWidth</a> :: <a href="CA.html#t:Bounds">Bounds</a> -&gt; <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a></li><li class="src short"><a href="#v:boundsHeight">boundsHeight</a> :: <a href="CA.html#t:Bounds">Bounds</a> -&gt; <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a></li><li class="src short"><a href="#v:fromList">fromList</a> :: [[a]] -&gt; <a href="CA.html#t:Universe">Universe</a> a</li><li class="src short"><a href="#v:size">size</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>, <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</li><li class="src short"><a href="#v:evolve">evolve</a> :: <a href="CA.html#t:CARule">CARule</a> g a -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; Rand g (<a href="CA.html#t:Universe">Universe</a> a)</li><li class="src short"><a href="#v:modifyPoint">modifyPoint</a> :: <a href="CA.html#t:Point">Point</a> -&gt; (a -&gt; a) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a</li><li class="src short"><a href="#v:render">render</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; [[a]]</li><li class="src short"><a href="#v:clip">clip</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Bounds">Bounds</a> -&gt; [[a]]</li><li class="src short"><a href="#v:clipInside">clipInside</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Bounds">Bounds</a> -&gt; (<a href="CA.html#t:Bounds">Bounds</a>, [[a]])</li></ul></div><div id="interface"><h1 id="g:1">About comonadic cellular automata</h1><div class="doc"><h2>What are Comonads?</h2><p>A <code>Comonad</code> is a class which can be thought of as being the 'opposite' of a
 <code>Monad</code>. Whereas a <code>Monad</code> can be thought of as encapsulating the notion of
 an 'effectful computation' - that is, a computation which produces an effect
 - a <code>Comonad</code> can be thought of as encapsulating the notion of a 'contextual
 computation' - that is, a computation which takes place in a context, which
 can then be accessed during the computation. The methods of a <code>Comonad</code> are
 'reversed' (or <em>dual</em>) compared to those of a <code>Monad</code>, as can be seen by
 comparing them:</p><ul><li><code><code>return</code> :: <code>Monad</code> m =&gt; a -&gt; m a</code> wraps a value in a monadic effect,
 whereas <code><code>extract</code> :: <code>Comonad</code> w =&gt; w a -&gt; a</code> isolates a value from its
 comonadic context</li><li><code>(&gt;&gt;=) :: <code>Monad</code> m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b</code> applies an effectful
 computation <code>a -&gt; m b</code> to a value <code>m a</code>, whereas
 <code><code>flip</code> <code>extend</code> :: <code>Comonad</code> w =&gt; w a -&gt; (w a -&gt; b) -&gt; w b</code> applies a
 contextual computation <code>w a -&gt; b</code> to a value <code>w a</code>.</li></ul><p>The stereotypical example of a comonad is the <em>product comonad</em>, which is
 just a partially applied tuple <code>(,) r</code>. This is the simplest comonad,
 representing a value with another value of type <code>r</code> acting as a context. If
 you said that this sounds like the Reader monad you would be right; this
 comonad is indeed isomorphic to the reader monad! In further detail:</p><ul><li><code><code>extract</code> :: (r, a) -&gt; a</code> removes the <code>r</code> context to leave just the <code>a</code>
 value; and</li><li><code><code>extend</code> :: ((r, a) -&gt; b) -&gt; (r, a) -&gt; (r, b)</code> applies a contextual
 computation <code>(r, a) -&gt; b</code> to a value <code>(r, a)</code>.</li></ul><h2>Using Comonads to Simulate Cellular Automata</h2><p>It turns out that comonads are a natural fit for cellular automata. The
 trick is to figure out how to view a cellular automaton as a contextual
 computation. If you have a look at a cellular automaton like Conway's Game
 of Life, the rules all follow the same general pattern of 'take a cell, and
 if the surrounding grid satisfies a certain condition then update the cell
 as follows'. This already <em>is</em> a contextful computation, in which the
 current cell is updated with reference to the context of the rest of the
 grid! This means that a cellular automaton comonad can be implemented as a
 pair of a 2D grid and one 'focused' point, to provide the 'current cell'
 referred to above (by the way, you might recognise this construction as a 2D
 list zipper). This is implemented as the <code><a href="CA.html#t:Universe">Universe</a></code> comonad below. A
 cellular automaton can then be implemented as a function <code><code><a href="CA.html#t:Universe">Universe</a></code> a -&gt;
 b</code>, the argument of which is pre-'focused' to the cell which is currently
 being recomputed. The <code>extract</code> method can be used to get the focused value,
 and the <code>extend</code> method can be used to apply a cellular automaton to a
 <code><a href="CA.html#t:Universe">Universe</a></code>. Putting this all together, the Game of Life can be implemented as
 follows:</p><pre>data State = Alive | Dead
conwayLife :: <code><a href="CA.html#t:Universe">Universe</a></code> State -&gt; State
conwayLife u = case <code>extract</code> u of                      -- We use <code>extract</code> to get the currently focused value
  Dead -&gt;
    if count (<code>experiment</code> mkNbhd u) == 3               -- <code>experiment</code> is useful to get a neighbourhood from the focused cell
    then Alive
    else Dead
  Alive -&gt;
    if count (<code>experiment</code> mkNbhd u) <code>elem</code> [2, 3]
    then Alive
    else Dead
 where
  mkNbhd (Point x y) = [ Point (x-1) (y-1)
                       , Point  x    (y-1)
                       , Point (x+1) (y-1)
                       , Point (x-1)  y
                       , Point (x+1)  y
                       , Point (x-1) (y+1)
                       , Point  x    (y+1)
                       , Point (x+1) (y+1)
                       ]
 count = sum . fmap (case { Alive -&gt; 1 ; Dead -&gt; 0 }) -- Note that this uses -XLambdaCase
</pre><p>Note that it would normally be much easier to use the functions from
 <a href="CA-Utils.html">CA.Utils</a>, but in the interests of pedagogy these have been avoided.</p></div><h1 id="g:2">Convenient re-exports</h1><h1 id="g:3">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Axis" class="def">Axis</a> <a href="#t:Axis" class="selflink">#</a></p><div class="doc"><p>A type used with -XDataKinds to parameterise <code><a href="CA.html#t:Coord">Coord</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:X" class="def">X</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Y" class="def">Y</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Coord" class="def">Coord</a> (x :: <a href="CA.html#t:Axis">Axis</a>) <a href="#t:Coord" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Coord" class="def">Coord</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getCoord" class="def">getCoord</a> :: Int</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Coord" class="caption collapser" onclick="toggleSection('i:Coord')">Instances</p><div id="section.i:Coord" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Enum:1" class="instance expander" onclick="toggleSection('i:id:Coord:Enum:1')"></span> Enum (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Enum:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:succ">succ</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:pred">pred</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:toEnum">toEnum</a> :: Int -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:fromEnum">fromEnum</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; Int</p><p class="src"><a href="#v:enumFrom">enumFrom</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; [<a href="CA.html#t:Coord">Coord</a> x]</p><p class="src"><a href="#v:enumFromThen">enumFromThen</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; [<a href="CA.html#t:Coord">Coord</a> x]</p><p class="src"><a href="#v:enumFromTo">enumFromTo</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; [<a href="CA.html#t:Coord">Coord</a> x]</p><p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; [<a href="CA.html#t:Coord">Coord</a> x]</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Eq:2" class="instance expander" onclick="toggleSection('i:id:Coord:Eq:2')"></span> Eq (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Eq:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Integral:3" class="instance expander" onclick="toggleSection('i:id:Coord:Integral:3')"></span> Integral (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Integral:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:quot">quot</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:rem">rem</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:div">div</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:mod">mod</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:quotRem">quotRem</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; (<a href="CA.html#t:Coord">Coord</a> x, <a href="CA.html#t:Coord">Coord</a> x)</p><p class="src"><a href="#v:divMod">divMod</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; (<a href="CA.html#t:Coord">Coord</a> x, <a href="CA.html#t:Coord">Coord</a> x)</p><p class="src"><a href="#v:toInteger">toInteger</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; Integer</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Num:4" class="instance expander" onclick="toggleSection('i:id:Coord:Num:4')"></span> Num (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Num:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-43-">(+)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:-45-">(-)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:-42-">(*)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:negate">negate</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:abs">abs</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:signum">signum</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:fromInteger">fromInteger</a> :: Integer -&gt; <a href="CA.html#t:Coord">Coord</a> x</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Ord:5" class="instance expander" onclick="toggleSection('i:id:Coord:Ord:5')"></span> Ord (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Ord:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p><p class="src"><a href="#v:min">min</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; <a href="CA.html#t:Coord">Coord</a> x</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Real:6" class="instance expander" onclick="toggleSection('i:id:Coord:Real:6')"></span> Real (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Real:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toRational">toRational</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; Rational</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Coord:Show:7" class="instance expander" onclick="toggleSection('i:id:Coord:Show:7')"></span> Show (<a href="CA.html#t:Coord">Coord</a> x)</span> <a href="#t:Coord" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Coord:Show:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="CA.html#t:Coord">Coord</a> x -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="CA.html#t:Coord">Coord</a> x -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="CA.html#t:Coord">Coord</a> x] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Point" class="def">Point</a> <a href="#t:Point" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Point" class="def">Point</a> (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>) (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Point" class="caption collapser" onclick="toggleSection('i:Point')">Instances</p><div id="section.i:Point" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Point:Eq:1" class="instance expander" onclick="toggleSection('i:id:Point:Eq:1')"></span> Eq <a href="CA.html#t:Point">Point</a></span> <a href="#t:Point" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Point:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a> -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Point:Show:2" class="instance expander" onclick="toggleSection('i:id:Point:Show:2')"></span> Show <a href="CA.html#t:Point">Point</a></span> <a href="#t:Point" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Point:Show:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="CA.html#t:Point">Point</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="CA.html#t:Point">Point</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="CA.html#t:Point">Point</a>] -&gt; ShowS</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Point:ComonadStore:3" class="instance expander" onclick="toggleSection('i:id:Point:ComonadStore:3')"></span> ComonadStore <a href="CA.html#t:Point">Point</a> <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Point" class="selflink">#</a></td><td class="doc"><p>Gives a few useful utility functions.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Point:ComonadStore:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pos">pos</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Point">Point</a></p><p class="src"><a href="#v:peek">peek</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:peeks">peeks</a> :: (<a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:seek">seek</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a</p><p class="src"><a href="#v:seeks">seeks</a> :: (<a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a</p><p class="src"><a href="#v:experiment">experiment</a> :: Functor f =&gt; (<a href="CA.html#t:Point">Point</a> -&gt; f <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; f a</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Universe" class="def">Universe</a> a <a href="#t:Universe" class="selflink">#</a></p><div class="doc"><p>The type of a finite, 2D universe of cells of type <code>a</code>.</p><p>Internally, this is stored as a list of columns and a single 'focused' point,
 to form a 2D zipper.</p></div><div class="subs instances"><p id="control.i:Universe" class="caption collapser" onclick="toggleSection('i:Universe')">Instances</p><div id="section.i:Universe" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Functor:1" class="instance expander" onclick="toggleSection('i:id:Universe:Functor:1')"></span> Functor <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> b</p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="CA.html#t:Universe">Universe</a> b -&gt; <a href="CA.html#t:Universe">Universe</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Foldable:2" class="instance expander" onclick="toggleSection('i:id:Universe:Foldable:2')"></span> Foldable <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Foldable:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: Monoid m =&gt; <a href="CA.html#t:Universe">Universe</a> m -&gt; m</p><p class="src"><a href="#v:foldMap">foldMap</a> :: Monoid m =&gt; (a -&gt; m) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; m</p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; b</p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; b</p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; b</p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; b</p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:toList">toList</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; [a]</p><p class="src"><a href="#v:null">null</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; Bool</p><p class="src"><a href="#v:length">length</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; Int</p><p class="src"><a href="#v:elem">elem</a> :: Eq a =&gt; a -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; Bool</p><p class="src"><a href="#v:maximum">maximum</a> :: Ord a =&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:minimum">minimum</a> :: Ord a =&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:sum">sum</a> :: Num a =&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:product">product</a> :: Num a =&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Traversable:3" class="instance expander" onclick="toggleSection('i:id:Universe:Traversable:3')"></span> Traversable <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Traversable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: Applicative f =&gt; (a -&gt; f b) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; f (<a href="CA.html#t:Universe">Universe</a> b)</p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: Applicative f =&gt; <a href="CA.html#t:Universe">Universe</a> (f a) -&gt; f (<a href="CA.html#t:Universe">Universe</a> a)</p><p class="src"><a href="#v:mapM">mapM</a> :: Monad m =&gt; (a -&gt; m b) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; m (<a href="CA.html#t:Universe">Universe</a> b)</p><p class="src"><a href="#v:sequence">sequence</a> :: Monad m =&gt; <a href="CA.html#t:Universe">Universe</a> (m a) -&gt; m (<a href="CA.html#t:Universe">Universe</a> a)</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Comonad:4" class="instance expander" onclick="toggleSection('i:id:Universe:Comonad:4')"></span> Comonad <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc"><p>Allows the evolution of a cellular automaton using the <code>extend</code> method.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Comonad:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:extract">extract</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:duplicate">duplicate</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> (<a href="CA.html#t:Universe">Universe</a> a)</p><p class="src"><a href="#v:extend">extend</a> :: (<a href="CA.html#t:Universe">Universe</a> a -&gt; b) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> b</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:ComonadStore:5" class="instance expander" onclick="toggleSection('i:id:Universe:ComonadStore:5')"></span> ComonadStore <a href="CA.html#t:Point">Point</a> <a href="CA.html#t:Universe">Universe</a></span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc"><p>Gives a few useful utility functions.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Universe:ComonadStore:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pos">pos</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Point">Point</a></p><p class="src"><a href="#v:peek">peek</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:peeks">peeks</a> :: (<a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; a</p><p class="src"><a href="#v:seek">seek</a> :: <a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a</p><p class="src"><a href="#v:seeks">seeks</a> :: (<a href="CA.html#t:Point">Point</a> -&gt; <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a</p><p class="src"><a href="#v:experiment">experiment</a> :: Functor f =&gt; (<a href="CA.html#t:Point">Point</a> -&gt; f <a href="CA.html#t:Point">Point</a>) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; f a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Eq:6" class="instance expander" onclick="toggleSection('i:id:Universe:Eq:6')"></span> Eq a =&gt; Eq (<a href="CA.html#t:Universe">Universe</a> a)</span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc"><p>This instance ignores the foci and just tests the playfields for equality.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Eq:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Universe:Show:7" class="instance expander" onclick="toggleSection('i:id:Universe:Show:7')"></span> Show a =&gt; Show (<a href="CA.html#t:Universe">Universe</a> a)</span> <a href="#t:Universe" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Universe:Show:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="CA.html#t:Universe">Universe</a> a] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CARule" class="def">CARule</a> g a = <a href="CA.html#t:Universe">Universe</a> a -&gt; Rand g a <a href="#t:CARule" class="selflink">#</a></p><div class="doc"><p>A convenient type signature for a stochastic cellular automaton update
 function.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Bounds" class="def">Bounds</a> <a href="#t:Bounds" class="selflink">#</a></p><div class="doc"><p>Specifies a portion of a <code><a href="CA.html#t:Universe">Universe</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Bounds" class="def">Bounds</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:boundsLeft" class="def">boundsLeft</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:boundsRight" class="def">boundsRight</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:boundsTop" class="def">boundsTop</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:boundsBottom" class="def">boundsBottom</a> :: !(<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Bounds" class="caption collapser" onclick="toggleSection('i:Bounds')">Instances</p><div id="section.i:Bounds" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Bounds:Show:1" class="instance expander" onclick="toggleSection('i:id:Bounds:Show:1')"></span> Show <a href="CA.html#t:Bounds">Bounds</a></span> <a href="#t:Bounds" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Bounds:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="CA.html#t:Bounds">Bounds</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="CA.html#t:Bounds">Bounds</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="CA.html#t:Bounds">Bounds</a>] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:boundsWidth" class="def">boundsWidth</a> :: <a href="CA.html#t:Bounds">Bounds</a> -&gt; <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a> <a href="#v:boundsWidth" class="selflink">#</a></p><div class="doc"><p>Finds the number of columns in a <code><a href="CA.html#t:Bounds">Bounds</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:boundsHeight" class="def">boundsHeight</a> :: <a href="CA.html#t:Bounds">Bounds</a> -&gt; <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a> <a href="#v:boundsHeight" class="selflink">#</a></p><div class="doc"><p>Finds the number of rows in a <code><a href="CA.html#t:Bounds">Bounds</a></code>.</p></div></div><h1 id="g:4">Functions on <code><a href="CA.html#t:Universe">Universe</a></code></h1><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: [[a]] -&gt; <a href="CA.html#t:Universe">Universe</a> a <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Converts a list of columns to a <code><a href="CA.html#t:Universe">Universe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:size" class="def">size</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; (<a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:X">X</a>, <a href="CA.html#t:Coord">Coord</a> <a href="CA.html#v:Y">Y</a>) <a href="#v:size" class="selflink">#</a></p><div class="doc"><p>Returns the width and height of a <code><a href="CA.html#t:Universe">Universe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:evolve" class="def">evolve</a> :: <a href="CA.html#t:CARule">CARule</a> g a -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; Rand g (<a href="CA.html#t:Universe">Universe</a> a) <a href="#v:evolve" class="selflink">#</a></p><div class="doc"><p>Applies a stochastic evolution function to a <code><a href="CA.html#t:Universe">Universe</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:modifyPoint" class="def">modifyPoint</a> :: <a href="CA.html#t:Point">Point</a> -&gt; (a -&gt; a) -&gt; <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Universe">Universe</a> a <a href="#v:modifyPoint" class="selflink">#</a></p><div class="doc"><p>Changes the value of a single <code><a href="CA.html#t:Point">Point</a></code> in a <code><a href="CA.html#t:Universe">Universe</a></code>.</p><p><strong>TODO</strong> The behaviour is <em>undefined</em> in the case when the point is
 outside the edges of the <code><a href="CA.html#t:Universe">Universe</a></code>. This <em>is</em> a bug and will be fixed later.</p></div></div><h2 id="g:5">Other functions which Haddock can't document properly</h2><div class="doc"><pre><code>extend</code> :: (<code><a href="CA.html#t:Universe">Universe</a></code> a -&gt; b) -&gt; <code><a href="CA.html#t:Universe">Universe</a></code> a -&gt; <code><a href="CA.html#t:Universe">Universe</a></code> b</pre><p>This function can be used to evolve a <code><a href="CA.html#t:Universe">Universe</a></code> by one generation using a
 non-stochastic evolution function.</p><pre><code>extract</code> :: <code><a href="CA.html#t:Universe">Universe</a></code> a -&gt; a</pre><p>Returns the current focused point.</p><pre><code>experiment</code> :: <code>Functor</code> f =&gt; (<code><a href="CA.html#t:Point">Point</a></code> -&gt; f <code><a href="CA.html#t:Point">Point</a></code>) -&gt; <code><a href="CA.html#t:Universe">Universe</a></code> a -&gt; f a</pre><p>Given a function which turns the current focused point into a functor (e.g. a
 list) of points, <code>experiment</code> returns the values at these points. Useful with
 the neighbourhood functions from <a href="CA-Utils.html">CA.Utils</a>.</p></div><h1 id="g:6">Conversion from and to lists</h1><div class="top"><p class="src"><a id="v:render" class="def">render</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; [[a]] <a href="#v:render" class="selflink">#</a></p><div class="doc"><p>Converts a <code><a href="CA.html#t:Universe">Universe</a></code> to a list of columns.</p></div></div><div class="top"><p class="src"><a id="v:clip" class="def">clip</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Bounds">Bounds</a> -&gt; [[a]] <a href="#v:clip" class="selflink">#</a></p><div class="doc"><p>Extracts a portion of a <code><a href="CA.html#t:Universe">Universe</a></code> to a list of columns. Wraps around
 toroidally if a point outside the edges of the universe has been requested.</p></div></div><div class="top"><p class="src"><a id="v:clipInside" class="def">clipInside</a> :: <a href="CA.html#t:Universe">Universe</a> a -&gt; <a href="CA.html#t:Bounds">Bounds</a> -&gt; (<a href="CA.html#t:Bounds">Bounds</a>, [[a]]) <a href="#v:clipInside" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="CA.html#v:clip">clip</a></code>, but instead of 'wrapping around' toroidally if a point
 outside the edges of the universe has been requested, it stops at the edge of
 the universe. This means that the list returned may not cover all of the
 bounds requested, so <code><a href="CA.html#v:clipInside">clipInside</a></code> also returns the bounds which were actually
 returned. For example, if the universe extends from the point (0,0) to (20,
 20) but <code><code><a href="CA.html#t:Bounds">Bounds</a></code>{<code><a href="CA.html#v:boundsLeft">boundsLeft</a></code>=15, <code><a href="CA.html#v:boundsRight">boundsRight</a></code>=25, <code><a href="CA.html#v:boundsTop">boundsTop</a></code>=15,
 <code><a href="CA.html#v:boundsBottom">boundsBottom</a></code>=25}</code> was requested, then the portion outside the universe will
 be ignored and <code><a href="CA.html#v:clipInside">clipInside</a></code> will behave as if only <code><code><a href="CA.html#t:Bounds">Bounds</a></code>{<code><a href="CA.html#v:boundsLeft">boundsLeft</a></code>=15,
 <code><a href="CA.html#v:boundsRight">boundsRight</a></code>=20, <code><a href="CA.html#v:boundsTop">boundsTop</a></code>=15, <code><a href="CA.html#v:boundsBottom">boundsBottom</a></code>=20}</code> was requested, and will
 return this value as the first part of the tuple.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>